# Стек в ассемблере

## Основные концепции

Стек – это специальная область памяти, которая работает по принципу "последним пришел – первым ушел" (LIFO). 

## Применение стека

Стек используется для временного хранения данных, таких как:

- **Адрес возврата**: При вызове функции в стек помещается адрес, по которому программа должна вернуться после завершения функции
- **Аргументы функций**: Перед вызовом функции аргументы передаются через стек
- **Локальные переменные**: В теле функции переменные могут размещаться в стеке

## Зачем очищать стек

### Корректное управление памятью
После вызова функции в стек попадают параметры. Если их не "убирать" (то есть не корректировать указатель стека), указатель будет смещаться, и это может привести к потере контроля над стеком.

### Предотвращение ошибок
Если стек не будет очищен, возможно возникновение ошибок, таких как переполнение стека или повреждение данных, что может привести к некорректной работе программы или даже её сбою.

### Сохранение целостности вызовов функций
Очищение стека позволяет вернуть его в исходное состояние перед следующим вызовом функции, что важно для корректного исполнения программ.

## Пример работы со стеком

В типичном коде после вызова функций (например, `printf` и `scanf`) происходит корректировка указателя стека с помощью команд вроде `add esp, 4` или `add esp, 8`. Это позволяет "удалить" параметры, переданные в функцию, гарантируя, что стек остается правильно выровненным и готов для следующих операций.

### Основные команды для работы со стеком

| Команда                 | Описание                                                 |
|-------------------------|----------------------------------------------------------|
| `push регистр/значение` | Помещает значение в стек                                 |
| `pop регистр`           | Извлекает значение из стека в регистр                    |
| `call метка`            | Вызов процедуры (помещает адрес возврата в стек)         |
| `ret`                   | Возврат из процедуры (извлекает адрес возврата из стека) |